!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=11)}([function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=r(18),n=r(19),o=r(20);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,r)}function u(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=l(t,e);return t}(t,e,r,i):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,r),n=(t=s(t,i)).write(e,r);n!==i&&(t=t.slice(0,n));return t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(h(e),t=s(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(i)return k(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function g(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:y(t,e,r,i,n);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,i,n){var o,a=1,s=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(n){var h=-1;for(o=r;o<s;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===c)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var p=!0,l=0;l<c;l++)if(u(t,o+l)!==u(e,l)){p=!1;break}if(p)return o}return-1}function v(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function _(t,e,r,i){return G(k(e,t.length-r),t,r,i)}function b(t,e,r,i){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function S(t,e,r,i){return b(t,e,r,i)}function w(t,e,r,i){return G(H(e),t,r,i)}function C(t,e,r,i){return G(function(t,e){for(var r,i,n,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function E(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,a,s,c,u=t[n],h=null,p=u>239?4:u>223?3:u>191?2:1;if(n+p<=r)switch(p){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[n+1]))&&(c=(31&u)<<6|63&o)>127&&(h=c);break;case 3:o=t[n+1],a=t[n+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=t[n+1],a=t[n+2],s=t[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(h=c)}null===h?(h=65533,p=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),n+=p}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=A));return r}(i)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return u(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,i){return h(e),e<=0?s(t,e):void 0!==r?"string"==typeof i?s(t,e).fill(r,i):s(t,e).fill(r):s(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return p(null,t)},c.allocUnsafeSlow=function(t){return p(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=c.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var a=t[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,n),n+=a.length}return i},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):function(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return R(this,e,r);case"ascii":return D(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,i,n){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(i,n),h=t.slice(e,r),p=0;p<s;++p)if(u[p]!==h[p]){o=u[p],a=h[p];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},c.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return S(this,t,e,r);case"base64":return w(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function D(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function T(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function I(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=j(t[o]);return n}function U(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,i,n,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function L(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,o=Math.min(t.length-r,2);n<o;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function M(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,o=Math.min(t.length-r,4);n<o;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function B(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,i,o){return o||B(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function x(t,e,r,i,o){return o||B(t,0,r,8),n.write(t,e,r,i,52,8),r+8}c.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var n=e-t;r=new c(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},c.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,i){(t=+t,e|=0,r|=0,i)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);P(this,t,e,r,n-1,-n)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return x(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return x(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,o=i-r;if(this===t&&r<e&&e<i)for(n=o-1;n>=0;--n)t[n+e]=this[n+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},c.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=c.isBuffer(t)?t:k(new c(t,i).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function k(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],a=0;a<i;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}}).call(this,r(17))},function(t,e,r){"use strict";var i,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,r,i){var n,o,a,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),(n=u(t))>0&&a.length>n&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function p(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}.bind(i);return n.listener=r,i.wrapFn=n,n}function l(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):f(n,n.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=n[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,h=f(c,u);for(r=0;r<u;++r)o(h[r],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,i,n,o,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return l(this,t,!0)},s.prototype.rawListeners=function(t){return l(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,r){function i(){var t;try{t=e.storage.debug}catch(t){}return t}(e=t.exports=r(35)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var i="color: "+this.color;t=[t[0],i,"color: inherit"].concat(Array.prototype.slice.call(t,1));var n=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))}),t.splice(o,0,i),t},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(i())},function(t,e,r){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},i=0;i<e.length;i++)r[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return r},n=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(s(arguments[r]));return e.join(" ")}r=1;for(var i=arguments,o=i.length,a=String(t).replace(n,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(t){return"[Circular]"}default:return t}}),c=i[r];r<o;c=i[++r])m(c)||!b(c)?a+=" "+c:a+=" "+s(c);return a},e.deprecate=function(r,i){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,i).apply(this,arguments)};var n=!1;return function(){if(!n){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),n=!0}return r.apply(this,arguments)}};var o,a={};function s(t,r){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(r)?i.showHidden=r:r&&e._extend(i,r),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),h(i,t,i.depth)}function c(t,e){var r=s.styles[e];return r?"["+s.colors[r][0]+"m"+t+"["+s.colors[r][1]+"m":t}function u(t,e){return t}function h(t,r,i){if(t.customInspect&&r&&C(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(i,t);return y(n)||(n=h(t,n,i)),n}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(y(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(g(e))return t.stylize(""+e,"number");if(f(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,r);if(o)return o;var a=Object.keys(r),s=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),w(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(C(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return p(r)}var u,b="",E=!1,R=["{","}"];(d(r)&&(E=!0,R=["[","]"]),C(r))&&(b=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(b=" "+RegExp.prototype.toString.call(r)),S(r)&&(b=" "+Date.prototype.toUTCString.call(r)),w(r)&&(b=" "+p(r)),0!==a.length||E&&0!=r.length?i<0?_(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=E?function(t,e,r,i,n){for(var o=[],a=0,s=e.length;a<s;++a)D(e,String(a))?o.push(l(t,e,r,i,String(a),!0)):o.push("");return n.forEach(function(n){n.match(/^\d+$/)||o.push(l(t,e,r,i,n,!0))}),o}(t,r,i,s,a):a.map(function(e){return l(t,r,i,s,e,E)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(u,b,R)):R[0]+b+R[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,i,n,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),D(i,n)||(a="["+n+"]"),s||(t.seen.indexOf(c.value)<0?(s=m(r)?h(t,c.value,null):h(t,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(o&&n.match(/^\d+$/))return s;(a=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function v(t){return void 0===t}function _(t){return b(t)&&"[object RegExp]"===E(t)}function b(t){return"object"==typeof t&&null!==t}function S(t){return b(t)&&"[object Date]"===E(t)}function w(t){return b(t)&&("[object Error]"===E(t)||t instanceof Error)}function C(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function R(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(v(o)&&(o=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!a[r])if(new RegExp("\\b"+r+"\\b","i").test(o)){var i=t.pid;a[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,i,t)}}else a[r]=function(){};return a[r]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=f,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=_,e.isObject=b,e.isDate=S,e.isError=w,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(37);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":"),[t.getDate(),A[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(38),e._extend=function(t,e){if(!e||!b(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(T&&t[T]){var e;if("function"!=typeof(e=t[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,i=new Promise(function(t,i){e=t,r=i}),n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);n.push(function(t,i){t?r(t):e(i)});try{t.apply(this,n)}catch(t){r(t)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),T&&Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=T,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return n.apply(o,arguments)};e.apply(this,r).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(I,e,a)})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,i(e)),r}}).call(this,r(4))},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,u=[],h=!1,p=-1;function l(){h&&c&&(h=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!h){var t=s(l);h=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||h||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(13);e.Cube=i.Cube;var n=r(8);e.StandardId=n.StandardId,e.Note=n.Note},function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=i(r(33)),a=r(5),s=function(){function t(e){void 0===e&&(e=t.DEFAULT_TIMEOUT_MS),this.timeoutMs=t.DEFAULT_TIMEOUT_MS,this.eventEmitter=new n.EventEmitter,this.timeoutTimer=null,this.timeoutMs=e}return t.prototype.start=function(){var t=this;o.default.on("stateChange",this.onStateChange.bind(this)),o.default.on("discover",this.onDiscover.bind(this));var e=[new Promise(this.executor.bind(this))];return this.timeoutMs>0&&e.push(this.createTimeoutPromise(this.timeoutMs)),this.eventEmitter.emit("start"),Promise.race(e).then(function(e){return t.stop(),(Array.isArray(e)?e:[e]).forEach(function(e){return t.eventEmitter.emit("discover",e)}),e},function(e){return t.stop(),Promise.reject(e)})},t.prototype.stop=function(){null!==this.timeoutTimer&&clearTimeout(this.timeoutTimer),o.default.stopScanning(),o.default.removeListener("stateChange",this.onStateChange),o.default.removeListener("discover",this.onDiscover),this.eventEmitter.emit("stop")},t.prototype.on=function(t,e){return this.eventEmitter.on(t,e),this},t.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e),this},t.prototype.onStateChange=function(t){"poweredOn"===t?o.default.startScanning([a.Cube.TOIO_SERVICE_ID]):o.default.stopScanning()},t.prototype.createTimeoutPromise=function(t){var e=this;return new Promise(function(r,i){e.timeoutTimer=setTimeout(i,t)})},t.DEFAULT_TIMEOUT_MS=0,t}();e.Scanner=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=function(t,e,r){return Math.max(Math.min(t,r),e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(14);e.IdCharacteristic=i.IdCharacteristic;var n=r(16);e.MotorCharacteristic=n.MotorCharacteristic;var o=r(22);e.LightCharacteristic=o.LightCharacteristic;var a=r(24);e.SoundCharacteristic=a.SoundCharacteristic;var s=r(25);e.SensorCharacteristic=s.SensorCharacteristic;var c=r(27);e.ButtonCharacteristic=c.ButtonCharacteristic;var u=r(29);e.BatteryCharacteristic=u.BatteryCharacteristic;var h=r(31);e.ConfigurationCharacteristic=h.ConfigurationCharacteristic;var p=r(32);e.StandardId=p.StandardId;var l=r(9);e.Note=l.Note},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(7);!function(t){t[t.C0=0]="C0",t[t.CS0=1]="CS0",t[t.D0=2]="D0",t[t.DS0=3]="DS0",t[t.E0=4]="E0",t[t.F0=5]="F0",t[t.FS0=6]="FS0",t[t.G0=7]="G0",t[t.GS0=8]="GS0",t[t.A0=9]="A0",t[t.AS0=10]="AS0",t[t.B0=11]="B0",t[t.C1=12]="C1",t[t.CS1=13]="CS1",t[t.D1=14]="D1",t[t.DS1=15]="DS1",t[t.E1=16]="E1",t[t.F1=17]="F1",t[t.FS1=18]="FS1",t[t.G1=19]="G1",t[t.GS1=20]="GS1",t[t.A1=21]="A1",t[t.AS1=22]="AS1",t[t.B1=23]="B1",t[t.C2=24]="C2",t[t.CS2=25]="CS2",t[t.D2=26]="D2",t[t.DS2=27]="DS2",t[t.E2=28]="E2",t[t.F2=29]="F2",t[t.FS2=30]="FS2",t[t.G2=31]="G2",t[t.GS2=32]="GS2",t[t.A2=33]="A2",t[t.AS2=34]="AS2",t[t.B2=35]="B2",t[t.C3=36]="C3",t[t.CS3=37]="CS3",t[t.D3=38]="D3",t[t.DS3=39]="DS3",t[t.E3=40]="E3",t[t.F3=41]="F3",t[t.FS3=42]="FS3",t[t.G3=43]="G3",t[t.GS3=44]="GS3",t[t.A3=45]="A3",t[t.AS3=46]="AS3",t[t.B3=47]="B3",t[t.C4=48]="C4",t[t.CS4=49]="CS4",t[t.D4=50]="D4",t[t.DS4=51]="DS4",t[t.E4=52]="E4",t[t.F4=53]="F4",t[t.FS4=54]="FS4",t[t.G4=55]="G4",t[t.GS4=56]="GS4",t[t.A4=57]="A4",t[t.AS4=58]="AS4",t[t.B4=59]="B4",t[t.C5=60]="C5",t[t.CS5=61]="CS5",t[t.D5=62]="D5",t[t.DS5=63]="DS5",t[t.E5=64]="E5",t[t.F5=65]="F5",t[t.FS5=66]="FS5",t[t.G5=67]="G5",t[t.GS5=68]="GS5",t[t.A5=69]="A5",t[t.AS5=70]="AS5",t[t.B5=71]="B5",t[t.C6=72]="C6",t[t.CS6=73]="CS6",t[t.D6=74]="D6",t[t.DS6=75]="DS6",t[t.E6=76]="E6",t[t.F6=77]="F6",t[t.FS6=78]="FS6",t[t.G6=79]="G6",t[t.GS6=80]="GS6",t[t.A6=81]="A6",t[t.AS6=82]="AS6",t[t.B6=83]="B6",t[t.C7=84]="C7",t[t.CS7=85]="CS7",t[t.D7=86]="D7",t[t.DS7=87]="DS7",t[t.E7=88]="E7",t[t.F7=89]="F7",t[t.FS7=90]="FS7",t[t.G7=91]="G7",t[t.GS7=92]="GS7",t[t.A7=93]="A7",t[t.AS7=94]="AS7",t[t.B7=95]="B7",t[t.C8=96]="C8",t[t.CS8=97]="CS8",t[t.D8=98]="D8",t[t.DS8=99]="DS8",t[t.E8=100]="E8",t[t.F8=101]="F8",t[t.FS8=102]="FS8",t[t.G8=103]="G8",t[t.GS8=104]="GS8",t[t.A8=105]="A8",t[t.AS8=106]="AS8",t[t.B8=107]="B8",t[t.C9=108]="C9",t[t.CS9=109]="CS9",t[t.D9=110]="D9",t[t.DS9=111]="DS9",t[t.E9=112]="E9",t[t.F9=113]="F9",t[t.FS9=114]="FS9",t[t.G9=115]="G9",t[t.GS9=116]="GS9",t[t.A9=117]="A9",t[t.AS9=118]="AS9",t[t.B9=119]="B9",t[t.C10=120]="C10",t[t.CS10=121]="CS10",t[t.D10=122]="D10",t[t.DS10=123]="DS10",t[t.E10=124]="E10",t[t.F10=125]="F10",t[t.FS10=126]="FS10",t[t.G10=127]="G10",t[t.NO_SOUND=128]="NO_SOUND"}(e.Note||(e.Note={}));var n=function(){function e(){}return e.prototype.playPresetSound=function(e){var r=i.clamp(e,0,10);return{buffer:t.from([2,r,255]),data:{soundId:r}}},e.prototype.playSound=function(e,r){var n={operations:[],repeatCount:i.clamp(r,0,255),totalDurationMs:0},o=Math.min(e.length,59),a=t.alloc(3+3*o);a.writeUInt8(3,0),a.writeUInt8(n.repeatCount,1),a.writeUInt8(o,2);for(var s=0,c=0;c<o;c++){var u=e[c],h=i.clamp(u.durationMs/10,1,255),p=u.noteName;s+=h,n.operations.push({durationMs:10*h,noteName:p}),a.writeUInt8(h,3+3*c),a.writeUInt8(p,4+3*c),a.writeUInt8(255,5+3*c)}return n.totalDurationMs=10*s*n.repeatCount,{buffer:a,data:n}},e.prototype.stopSound=function(){return{buffer:t.from([1])}},e}();e.SoundSpec=n}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(12);e.NearestScanner=i.NearestScanner;var n=r(49);e.NearScanner=n.NearScanner;var o=r(50);e.IdAddressScanner=o.IdAddressScanner;var a=r(6);e.Scanner=a.Scanner},function(t,e,r){"use strict";r.r(e);var i=r(10);if(/android/i.test(navigator.userAgent)){const t=(t,e=Promise.resolve())=>(function(...r){const i=()=>t.apply(this,r);return e=e.then(i,i)}),e=BluetoothRemoteGATTCharacteristic.prototype,r=Promise.resolve();e.startNotifications=t(e.startNotifications,r),e.readValue=t(e.readValue,r)}let n=null;document.getElementById("connect").addEventListener("click",async()=>{n=await(new i.NearestScanner).start(),document.getElementById("address").innerHTML=n.address,document.getElementById("id").innerHTML=n.id,document.body.className="cube-connecting",await n.connect(),n.on("battery:battery",t=>document.getElementById("battery").innerHTML=t.level),n.on("button:press",t=>document.getElementById("button").innerHTML=t.pressed),n.on("sensor:collision",t=>document.getElementById("collision").innerHTML=t.isCollisionDetected),n.on("id:position-id",t=>document.getElementById("position-id").innerHTML=JSON.stringify(t)),n.on("id:position-id-missed",()=>document.getElementById("position-id").innerHTML=""),n.on("id:standard-id",t=>document.getElementById("standard-id").innerHTML=JSON.stringify(t)),n.on("id:standard-id-missed",()=>document.getElementById("standard-id").innerHTML=""),document.body.className="cube-connected"}),document.getElementById("getBatteryStatus").addEventListener("click",async()=>{const t=document.getElementById("battery");t.innerHTML="",t.innerHTML=(await n.getBatteryStatus()).level}),document.getElementById("getButtonStatus").addEventListener("click",async()=>{const t=document.getElementById("button");t.innerHTML="",t.innerHTML=(await n.getButtonStatus()).pressed}),document.getElementById("getCollisionStatus").addEventListener("click",async()=>{const t=document.getElementById("collision");t.innerHTML="",t.innerHTML=(await n.getCollisionStatus()).isCollisionDetected}),document.getElementById("getSlopeStatus").addEventListener("click",async()=>{const t=document.getElementById("slope");t.innerHTML="",t.innerHTML=(await n.getSlopeStatus()).isSloped}),document.getElementById("move-forward").addEventListener("touchstart",async()=>n.move(30,30,0)),document.getElementById("move-backward").addEventListener("touchstart",async()=>n.move(-30,-30,0)),document.getElementById("move-left").addEventListener("touchstart",async()=>n.move(-30,30,0)),document.getElementById("move-right").addEventListener("touchstart",async()=>n.move(30,-30,0)),document.getElementById("move").addEventListener("touchstart",async t=>t.preventDefault()),document.getElementById("move").addEventListener("touchend",async()=>n.stop()),document.getElementById("move").addEventListener("touchend",async t=>t.preventDefault()),document.getElementById("move-forward").addEventListener("mousedown",async()=>n.move(30,30,0)),document.getElementById("move-backward").addEventListener("mousedown",async()=>n.move(-30,-30,0)),document.getElementById("move-left").addEventListener("mousedown",async()=>n.move(-30,30,0)),document.getElementById("move-right").addEventListener("mousedown",async()=>n.move(30,-30,0)),document.getElementById("move").addEventListener("mouseup",async()=>n.stop()),document.getElementById("move").addEventListener("mouseleave",async()=>n.stop()),document.getElementById("turnOnLight-red").addEventListener("click",()=>n.turnOnLight({red:255,durationMs:0})),document.getElementById("turnOnLight-green").addEventListener("click",()=>n.turnOnLight({green:255,durationMs:0})),document.getElementById("turnOnLight-blue").addEventListener("click",()=>n.turnOnLight({blue:255,durationMs:0})),document.getElementById("turnOffLight").addEventListener("click",()=>n.turnOffLight()),document.getElementById("playPresetSound").addEventListener("click",t=>{t.target.dataset.soundId&&n.playPresetSound(t.target.dataset.soundId)})},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=function(t){function e(r,i){void 0===r&&(r=e.SCAN_WINDOW_MS),void 0===i&&(i=a.Scanner.DEFAULT_TIMEOUT_MS);var n=t.call(this,i)||this;return n.scanWindowMs=e.SCAN_WINDOW_MS,n.nearestPeripheral=null,n.scanningIntervalTimer=null,n.scanWindowMs=r,n}return n(e,t),e.prototype.stop=function(){t.prototype.stop.call(this),null!==this.scanningIntervalTimer&&clearInterval(this.scanningIntervalTimer)},e.prototype.onDiscover=function(t){(null===this.nearestPeripheral||t.rssi>this.nearestPeripheral.rssi)&&(this.nearestPeripheral=t)},e.prototype.executor=function(t){var e=this;this.scanningIntervalTimer=setInterval(function(){null!==e.nearestPeripheral&&t(new o.Cube(e.nearestPeripheral))},this.scanWindowMs)},e.SCAN_WINDOW_MS=1e3,e}(a.Scanner);e.NearestScanner=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=r(8);function o(){return Promise.reject("cannot discover the characteristic")}var a=function(){function t(t){this.eventEmitter=new i.EventEmitter,this.motorCharacteristic=null,this.lightCharacteristic=null,this.soundCharacteristic=null,this.sensorCharacteristic=null,this.buttonCharacteristic=null,this.batteryCharacteristic=null,this.configurationCharacteristic=null,this.peripheral=t}return Object.defineProperty(t.prototype,"id",{get:function(){return this.peripheral.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this.peripheral.address},enumerable:!0,configurable:!0}),t.prototype.connect=function(){var t=this;return new Promise(function(e,r){t.peripheral.connect(function(i){i?r(i):t.peripheral.discoverAllServicesAndCharacteristics(function(i,n,o){i?r(i):(o&&t.setCharacteristics(o),e(t))})})})},t.prototype.on=function(t,e){return this.eventEmitter.on(t,e),this},t.prototype.off=function(t,e){return this.eventEmitter.removeListener(t,e),this},t.prototype.move=function(t,e,r){return void 0===r&&(r=0),null!==this.motorCharacteristic?this.motorCharacteristic.move(t,e,r):o()},t.prototype.stop=function(){null!==this.motorCharacteristic&&this.motorCharacteristic.stop()},t.prototype.turnOnLight=function(t){return null!==this.lightCharacteristic?this.lightCharacteristic.turnOnLight(t):o()},t.prototype.turnOnLightWithScenario=function(t,e){return void 0===e&&(e=0),null!==this.lightCharacteristic?this.lightCharacteristic.turnOnLightWithScenario(t,e):o()},t.prototype.turnOffLight=function(){null!==this.lightCharacteristic&&this.lightCharacteristic.turnOffLight()},t.prototype.playPresetSound=function(t){null!==this.soundCharacteristic&&this.soundCharacteristic.playPresetSound(t)},t.prototype.playSound=function(t,e){return void 0===e&&(e=0),null!==this.soundCharacteristic?this.soundCharacteristic.playSound(t,e):o()},t.prototype.stopSound=function(){null!==this.soundCharacteristic&&this.soundCharacteristic.stopSound()},t.prototype.getSlopeStatus=function(){return null!==this.sensorCharacteristic?this.sensorCharacteristic.getSlopeStatus():o()},t.prototype.getCollisionStatus=function(){return null!==this.sensorCharacteristic?this.sensorCharacteristic.getCollisionStatus():o()},t.prototype.getButtonStatus=function(){return null!==this.buttonCharacteristic?this.buttonCharacteristic.getButtonStatus():o()},t.prototype.getBatteryStatus=function(){return null!==this.batteryCharacteristic?this.batteryCharacteristic.getBatteryStatus():o()},t.prototype.getBLEProtocolVersion=function(){return null!==this.configurationCharacteristic?this.configurationCharacteristic.getBLEProtocolVersion():o()},t.prototype.setCharacteristics=function(t){var e=this;t.forEach(function(t){switch(t.uuid){case n.IdCharacteristic.UUID:new n.IdCharacteristic(t,e.eventEmitter);break;case n.MotorCharacteristic.UUID:e.motorCharacteristic=new n.MotorCharacteristic(t);break;case n.LightCharacteristic.UUID:e.lightCharacteristic=new n.LightCharacteristic(t);break;case n.SoundCharacteristic.UUID:e.soundCharacteristic=new n.SoundCharacteristic(t);break;case n.SensorCharacteristic.UUID:e.sensorCharacteristic=new n.SensorCharacteristic(t,e.eventEmitter);break;case n.ButtonCharacteristic.UUID:e.buttonCharacteristic=new n.ButtonCharacteristic(t,e.eventEmitter);break;case n.BatteryCharacteristic.UUID:e.batteryCharacteristic=new n.BatteryCharacteristic(t,e.eventEmitter);break;case n.ConfigurationCharacteristic.UUID:e.configurationCharacteristic=new n.ConfigurationCharacteristic(t)}})},t.TOIO_SERVICE_ID="10b201005b3b45719508cf3efcd7bbae",t}();e.Cube=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(15),n=function(){function t(t,e){this.characteristic=t,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=e}return t.prototype.onData=function(t){var e=new i.IdSpec;try{var r=e.parse(t);switch(r.dataType){case"id:position-id":case"id:standard-id":this.eventEmitter.emit(r.dataType,r.data);break;case"id:position-id-missed":case"id:standard-id-missed":this.eventEmitter.emit(r.dataType)}}catch(t){return}},t.UUID="10b201015b3b45719508cf3efcd7bbae",t}();e.IdCharacteristic=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.parse=function(t){if(t.byteLength<1)throw new Error("parse error");switch(t.readUInt8(0)){case 1:if(t.byteLength<11)break;return{buffer:t,data:{x:t.readUInt16LE(1),y:t.readUInt16LE(3),angle:t.readUInt16LE(5),sensorX:t.readUInt16LE(7),sensorY:t.readUInt16LE(9)},dataType:"id:position-id"};case 2:if(t.byteLength<7)break;return{buffer:t,data:{standardId:t.readUInt32LE(1),angle:t.readUInt16LE(5)},dataType:"id:standard-id"};case 3:return{buffer:t,dataType:"id:position-id-missed"};case 4:return{buffer:t,dataType:"id:standard-id-missed"}}throw new Error("parse error")},t}();e.IdSpec=i},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(21),n=function(){function e(t){this.spec=new i.MotorSpec,this.timer=null,this.pendingResolve=null,this.characteristic=t}return e.prototype.move=function(e,r,i){var n=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var o=this.spec.move(e,r,i);if(this.characteristic.write(t.from(o.buffer),!1),o.data.durationMs>0)return new Promise(function(t){n.pendingResolve=t,n.timer=setTimeout(function(){n.pendingResolve&&(n.pendingResolve(),n.pendingResolve=null)},o.data.durationMs)})},e.prototype.stop=function(){this.move(0,0,0)},e.UUID="10b201025b3b45719508cf3efcd7bbae",e}();e.MotorCharacteristic=n}).call(this,r(0).Buffer)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){for(var e,r=u(t),i=r[0],a=r[1],s=new o(function(t,e,r){return 3*(e+r)/4-r}(0,i,a)),c=0,h=a>0?i-4:i,p=0;p<h;p+=4)e=n[t.charCodeAt(p)]<<18|n[t.charCodeAt(p+1)]<<12|n[t.charCodeAt(p+2)]<<6|n[t.charCodeAt(p+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=n[t.charCodeAt(p)]<<2|n[t.charCodeAt(p+1)]>>4,s[c++]=255&e);1===a&&(e=n[t.charCodeAt(p)]<<10|n[t.charCodeAt(p+1)]<<4|n[t.charCodeAt(p+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,o=[],a=0,s=r-n;a<s;a+=16383)o.push(h(t,a,a+16383>s?s:a+16383));1===n?(e=t[r-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],n[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var n,o,a=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=n)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,i,n){var o,a,s=8*n-i-1,c=(1<<s)-1,u=c>>1,h=-7,p=r?n-1:0,l=r?-1:1,d=t[e+p];for(p+=l,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+t[e+p],p+=l,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=i;h>0;a=256*a+t[e+p],p+=l,h-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),o-=u}return(d?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,r,i,n,o){var a,s,c,u=8*o-n-1,h=(1<<u)-1,p=h>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+p>=1?l/c:l*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=h?(s=0,a=h):a+p>=1?(s=(e*c-1)*Math.pow(2,n),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,n),a=0));n>=8;t[r+d]=255&s,d+=f,s/=256,n-=8);for(a=a<<n|s,u+=n;u>0;t[r+d]=255&a,d+=f,a/=256,u-=8);t[r+d-f]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),n=function(){function e(){}return e.prototype.move=function(e,r,n){void 0===n&&(n=0);var o=e>0?1:-1,a=r>0?1:-1,s=e>0?1:2,c=r>0?1:2,u=Math.min(Math.abs(e),100),h=Math.min(Math.abs(r),100),p=i.clamp(n/10,0,255);return{buffer:t.from([2,1,s,u,2,c,h,p]),data:{left:o*u,right:a*h,durationMs:10*p}}},e}();e.MotorSpec=n}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(23),n=function(){function e(t){this.spec=new i.LightSpec,this.timer=null,this.pendingResolve=null,this.characteristic=t}return e.prototype.turnOnLight=function(e){var r=this;if(!e)return Promise.reject("invalid argument: empty operation");this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var i=this.spec.turnOnLight(e);return this.characteristic.write(t.from(i.buffer),!1),i.data.durationMs>0?new Promise(function(t){r.pendingResolve=t,r.timer=setTimeout(function(){r.pendingResolve&&(r.pendingResolve(),r.pendingResolve=null)},i.data.durationMs)}):void 0},e.prototype.turnOnLightWithScenario=function(e,r){var i=this;if(void 0===r&&(r=0),!e||0===e.length)return Promise.reject("invalid argument: empty operation");this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var n=this.spec.turnOnLightWithScenario(e,r);return this.characteristic.write(t.from(n.buffer),!1),n.data.totalDurationMs>0?new Promise(function(t){i.pendingResolve=t,i.timer=setTimeout(function(){i.pendingResolve&&(i.pendingResolve(),i.pendingResolve=null)},n.data.totalDurationMs)}):void 0},e.prototype.turnOffLight=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var e=this.spec.turnOffLight();this.characteristic.write(t.from(e.buffer),!1)},e.UUID="10b201035b3b45719508cf3efcd7bbae",e}();e.LightCharacteristic=n}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),n=function(){function e(){}return e.prototype.turnOnLight=function(e){var r=i.clamp(e.durationMs/10,0,255),n=i.clamp(e.red,0,255),o=i.clamp(e.green,0,255),a=i.clamp(e.blue,0,255);return{buffer:t.from([3,r,1,1,n,o,a]),data:{durationMs:10*r,red:n,green:o,blue:a}}},e.prototype.turnOnLightWithScenario=function(e,r){var n={operations:[],repeatCount:i.clamp(r,0,255),totalDurationMs:0},o=Math.min(e.length,29),a=t.alloc(3+6*o);a.writeUInt8(4,0),a.writeUInt8(n.repeatCount,1),a.writeUInt8(o,2);for(var s=0,c=0;c<o;c++){var u=e[c],h=i.clamp(u.durationMs/10,1,255),p=i.clamp(u.red,0,255),l=i.clamp(u.green,0,255),d=i.clamp(u.blue,0,255);s+=h,n.operations.push({durationMs:10*h,red:p,green:l,blue:d}),a.writeUInt8(h,3+6*c),a.writeUInt8(1,4+6*c),a.writeUInt8(1,5+6*c),a.writeUInt8(p,6+6*c),a.writeUInt8(l,7+6*c),a.writeUInt8(d,8+6*c)}return n.totalDurationMs=10*s*n.repeatCount,{buffer:a,data:n}},e.prototype.turnOffLight=function(){return{buffer:t.from([1])}},e}();e.LightSpec=n}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(9),n=function(){function e(t){this.spec=new i.SoundSpec,this.timer=null,this.pendingResolve=null,this.characteristic=t}return e.prototype.playPresetSound=function(e){if(e){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var r=this.spec.playPresetSound(e);this.characteristic.write(t.from(r.buffer),!1)}},e.prototype.playSound=function(e,r){var i=this;if(void 0===r&&(r=0),!e||0===e.length)return Promise.reject("invalid argument: empty operation");this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var n=this.spec.playSound(e,r);return this.characteristic.write(t.from(n.buffer),!1),n.data.totalDurationMs>0?new Promise(function(t){i.pendingResolve=t,i.timer=setTimeout(function(){i.pendingResolve&&(i.pendingResolve(),i.pendingResolve=null)},n.data.totalDurationMs)}):void 0},e.prototype.stopSound=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.pendingResolve&&(this.pendingResolve(),this.pendingResolve=null);var e=this.spec.stopSound();this.characteristic.write(t.from(e.buffer),!1)},e.UUID="10b201045b3b45719508cf3efcd7bbae",e}();e.SoundCharacteristic=n}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(26),n=function(){function t(t,e){this.spec=new i.SensorSpec,this.prevStatus={isSloped:void 0,isCollisionDetected:void 0},this.characteristic=t,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=e}return t.prototype.getSlopeStatus=function(){return this.read().then(function(t){return{isSloped:t.data.isSloped}})},t.prototype.getCollisionStatus=function(){return this.read().then(function(t){return{isCollisionDetected:t.data.isCollisionDetected}})},t.prototype.read=function(){var t=this;return new Promise(function(e,r){t.characteristic.read(function(i,n){if(i&&r(i),n)try{var o=t.spec.parse(n);return void e(o)}catch(t){return void r(t)}else r("cannot read any data from characteristic")})})},t.prototype.onData=function(t){try{var e=this.spec.parse(t);this.prevStatus.isSloped!==e.data.isSloped&&this.eventEmitter.emit("sensor:slope",{isSloped:e.data.isSloped}),this.prevStatus.isCollisionDetected!==e.data.isCollisionDetected&&this.eventEmitter.emit("sensor:collision",{isCollisionDetected:e.data.isCollisionDetected}),this.prevStatus=e.data}catch(t){return}},t.UUID="10b201065b3b45719508cf3efcd7bbae",t}();e.SensorCharacteristic=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.parse=function(t){if(t.byteLength<3)throw new Error("parse error");if(1!==t.readUInt8(0))throw new Error("parse error");var e=0===t.readUInt8(1),r=1===t.readUInt8(2);return{buffer:t,data:{isSloped:e,isCollisionDetected:r},dataType:"sensor:detection"}},t}();e.SensorSpec=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(28),n=function(){function t(t,e){this.spec=new i.ButtonSpec,this.characteristic=t,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=e}return t.prototype.getButtonStatus=function(){return this.read().then(function(t){return{pressed:t.data.pressed}})},t.prototype.read=function(){var t=this;return new Promise(function(e,r){t.characteristic.read(function(i,n){if(i)r(i);else if(n)try{var o=t.spec.parse(n);return void e(o)}catch(t){return void r(t)}else r("cannot read any data from characteristic")})})},t.prototype.onData=function(t){try{var e=this.spec.parse(t);this.eventEmitter.emit("button:press",{pressed:e.data.pressed})}catch(t){return}},t.UUID="10b201075b3b45719508cf3efcd7bbae",t}();e.ButtonCharacteristic=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.parse=function(t){if(t.byteLength<2)throw new Error("parse error");var e=t.readUInt8(0);if(1!==e)throw new Error("parse error");var r=0!==t.readUInt8(1);return{buffer:t,data:{id:e,pressed:r},dataType:"button:press"}},t}();e.ButtonSpec=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(30),n=function(){function t(t,e){this.spec=new i.BatterySpec,this.characteristic=t,this.characteristic.properties.includes("notify")&&(this.characteristic.on("data",this.onData.bind(this)),this.characteristic.subscribe()),this.eventEmitter=e}return t.prototype.getBatteryStatus=function(){return this.read().then(function(t){return t.data})},t.prototype.read=function(){var t=this;return new Promise(function(e,r){t.characteristic.read(function(i,n){if(i)r(i);else if(n)try{var o=t.spec.parse(n);return void e(o)}catch(t){return void r(t)}else r("cannot read any data from characteristic")})})},t.prototype.onData=function(t){try{var e=this.spec.parse(t);this.eventEmitter.emit("battery:battery",e.data)}catch(t){return}},t.UUID="10b201085b3b45719508cf3efcd7bbae",t}();e.BatteryCharacteristic=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.parse=function(t){if(t.byteLength<1)throw new Error("parse error");var e=t.readUInt8(0);return{buffer:t,data:{level:e},dataType:"battery:battery"}},t}();e.BatterySpec=i},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),n=function(){function e(t){this.eventEmitter=new i.EventEmitter,this.characteristic=t,this.characteristic.properties.includes("notify")&&this.characteristic.on("data",this.onData.bind(this))}return e.prototype.getBLEProtocolVersion=function(){var e=this;return new Promise(function(r){e.characteristic.subscribe(),e.characteristic.write(t.from([1,0]),!1),e.eventEmitter.once("configuration:ble-protocol-version",function(t){e.characteristic.unsubscribe(),r(t)})})},e.prototype.data2result=function(t){if(129!==t.readUInt8(0));else{var e=t.toString("utf-8",2,7);this.eventEmitter.emit("configuration:ble-protocol-version",e)}},e.prototype.onData=function(t){this.data2result(t)},e.UUID="10b201ff5b3b45719508cf3efcd7bbae",e}();e.ConfigurationCharacteristic=n}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.CARD_TYPHOON=3670016]="CARD_TYPHOON",t[t.CARD_RUSH=3670054]="CARD_RUSH",t[t.CARD_AUTO_TACKLE=3670018]="CARD_AUTO_TACKLE",t[t.CARD_RANDOM=3670056]="CARD_RANDOM",t[t.CARD_TACKLE_POWER_UP=3670020]="CARD_TACKLE_POWER_UP",t[t.CARD_SWING_POWER_UP=3670058]="CARD_SWING_POWER_UP",t[t.CARD_SIDE_ATTACK=3670022]="CARD_SIDE_ATTACK",t[t.CARD_CHASING=3670060]="CARD_CHASING",t[t.CARD_LEFT=3670024]="CARD_LEFT",t[t.CARD_RIGHT=3670062]="CARD_RIGHT",t[t.CARD_FRONT=3670026]="CARD_FRONT",t[t.CARD_BACK=3670064]="CARD_BACK",t[t.CARD_GO=3670028]="CARD_GO",t[t.SKUNK_BLUE=3670078]="SKUNK_BLUE",t[t.SKUNK_GREEN=3670042]="SKUNK_GREEN",t[t.SKUNK_YELLOW=3670080]="SKUNK_YELLOW",t[t.SKUNK_ORANGE=3670044]="SKUNK_ORANGE",t[t.SKUNK_RED=3670082]="SKUNK_RED",t[t.SKUNK_BROWN=3670046]="SKUNK_BROWN",t[t.STICKER_SPEED_UP=3670066]="STICKER_SPEED_UP",t[t.STICKER_SPEED_DOWN=3670030]="STICKER_SPEED_DOWN",t[t.STICKER_WOBBLE=3670068]="STICKER_WOBBLE",t[t.STICKER_PANIC=3670032]="STICKER_PANIC",t[t.STICKER_SPIN=3670070]="STICKER_SPIN",t[t.STICKER_SHOCK=3670034]="STICKER_SHOCK",t[t.MARK_CRAFT_FIGHTER=3670048]="MARK_CRAFT_FIGHTER",t[t.MARK_RHYTHM_AND_GO=3670052]="MARK_RHYTHM_AND_GO",t[t.MARK_SKUNK_CHASER=3670086]="MARK_SKUNK_CHASER",t[t.MARK_FINGER_STRIKE=3670050]="MARK_FINGER_STRIKE",t[t.MARK_FINGER_STRIKE_1P=3670088]="MARK_FINGER_STRIKE_1P",t[t.MARK_FREE_MOVE=3670084]="MARK_FREE_MOVE"}(e.StandardId||(e.StandardId={}))},function(t,e,r){var i=r(34),n=r(46)();t.exports=new i(n)},function(t,e,r){(function(e){var i=r(2)("noble"),n=r(1),o=r(3),a=r(39),s=r(40),c=r(42),u=r(44);function h(t){this.initialized=!1,this.address="unknown",this._state="unknown",this._bindings=t,this._peripherals={},this._services={},this._characteristics={},this._descriptors={},this._discoveredPeripheralUUids=[],this._bindings.on("stateChange",this.onStateChange.bind(this)),this._bindings.on("addressChange",this.onAddressChange.bind(this)),this._bindings.on("scanStart",this.onScanStart.bind(this)),this._bindings.on("scanStop",this.onScanStop.bind(this)),this._bindings.on("discover",this.onDiscover.bind(this)),this._bindings.on("connect",this.onConnect.bind(this)),this._bindings.on("disconnect",this.onDisconnect.bind(this)),this._bindings.on("rssiUpdate",this.onRssiUpdate.bind(this)),this._bindings.on("servicesDiscover",this.onServicesDiscover.bind(this)),this._bindings.on("includedServicesDiscover",this.onIncludedServicesDiscover.bind(this)),this._bindings.on("characteristicsDiscover",this.onCharacteristicsDiscover.bind(this)),this._bindings.on("read",this.onRead.bind(this)),this._bindings.on("write",this.onWrite.bind(this)),this._bindings.on("broadcast",this.onBroadcast.bind(this)),this._bindings.on("notify",this.onNotify.bind(this)),this._bindings.on("descriptorsDiscover",this.onDescriptorsDiscover.bind(this)),this._bindings.on("valueRead",this.onValueRead.bind(this)),this._bindings.on("valueWrite",this.onValueWrite.bind(this)),this._bindings.on("handleRead",this.onHandleRead.bind(this)),this._bindings.on("handleWrite",this.onHandleWrite.bind(this)),this._bindings.on("handleNotify",this.onHandleNotify.bind(this)),this.on("warning",function(t){1===this.listeners("warning").length&&console.warn("noble: "+t)}.bind(this)),this.on("newListener",function(t){"stateChange"!==t||this.initialized||(this.initialized=!0,e.nextTick(function(){this._bindings.init()}.bind(this)))}.bind(this)),Object.defineProperties(this,{state:{get:function(){return this.initialized||(this.initialized=!0,this._bindings.init()),this._state}}})}o.inherits(h,n.EventEmitter),h.prototype.onStateChange=function(t){i("stateChange "+t),this._state=t,this.emit("stateChange",t)},h.prototype.onAddressChange=function(t){i("addressChange "+t),this.address=t},h.prototype.startScanning=function(t,e,r){var i=function(i){if("poweredOn"!==i){var n=new Error("Could not start scanning, state is "+i+" (not poweredOn)");if("function"!=typeof r)throw n;r(n)}else r&&this.once("scanStart",function(t){r(null,t)}),this._discoveredPeripheralUUids=[],this._allowDuplicates=e,this._bindings.startScanning(t,e)};this.initialized?i.call(this,this._state):(this.initialized=!0,this._bindings.init(),this.once("stateChange",i.bind(this)))},h.prototype.onScanStart=function(t){i("scanStart"),this.emit("scanStart",t)},h.prototype.stopScanning=function(t){t&&this.once("scanStop",t),this._bindings&&this.initialized&&this._bindings.stopScanning()},h.prototype.onScanStop=function(){i("scanStop"),this.emit("scanStop")},h.prototype.onDiscover=function(t,e,r,i,n,o){var s=this._peripherals[t];if(s){for(var c in n)void 0!==n[c]&&(s.advertisement[c]=n[c]);s.connectable=i,s.rssi=o}else s=new a(this,t,e,r,i,n,o),this._peripherals[t]=s,this._services[t]={},this._characteristics[t]={},this._descriptors[t]={};var u=-1!==this._discoveredPeripheralUUids.indexOf(t);u||this._discoveredPeripheralUUids.push(t),!this._allowDuplicates&&u||this.emit("discover",s)},h.prototype.connect=function(t){this._bindings.connect(t)},h.prototype.onConnect=function(t,e){var r=this._peripherals[t];r?(r.state=e?"error":"connected",r.emit("connect",e)):this.emit("warning","unknown peripheral "+t+" connected!")},h.prototype.disconnect=function(t){this._bindings.disconnect(t)},h.prototype.onDisconnect=function(t){var e=this._peripherals[t];e?(e.state="disconnected",e.emit("disconnect")):this.emit("warning","unknown peripheral "+t+" disconnected!")},h.prototype.updateRssi=function(t){this._bindings.updateRssi(t)},h.prototype.onRssiUpdate=function(t,e){var r=this._peripherals[t];r?(r.rssi=e,r.emit("rssiUpdate",e)):this.emit("warning","unknown peripheral "+t+" RSSI update!")},h.prototype.discoverServices=function(t,e){this._bindings.discoverServices(t,e)},h.prototype.onServicesDiscover=function(t,e){var r=this._peripherals[t];if(r){for(var i=[],n=0;n<e.length;n++){var o=e[n],a=new s(this,t,o);this._services[t][o]=a,this._characteristics[t][o]={},this._descriptors[t][o]={},i.push(a)}r.services=i,r.emit("servicesDiscover",i)}else this.emit("warning","unknown peripheral "+t+" services discover!")},h.prototype.discoverIncludedServices=function(t,e,r){this._bindings.discoverIncludedServices(t,e,r)},h.prototype.onIncludedServicesDiscover=function(t,e,r){var i=this._services[t][e];i?(i.includedServiceUuids=r,i.emit("includedServicesDiscover",r)):this.emit("warning","unknown peripheral "+t+", "+e+" included services discover!")},h.prototype.discoverCharacteristics=function(t,e,r){this._bindings.discoverCharacteristics(t,e,r)},h.prototype.onCharacteristicsDiscover=function(t,e,r){var i=this._services[t][e];if(i){for(var n=[],o=0;o<r.length;o++){var a=r[o].uuid,s=new c(this,t,e,a,r[o].properties);this._characteristics[t][e][a]=s,this._descriptors[t][e][a]={},n.push(s)}i.characteristics=n,i.emit("characteristicsDiscover",n)}else this.emit("warning","unknown peripheral "+t+", "+e+" characteristics discover!")},h.prototype.read=function(t,e,r){this._bindings.read(t,e,r)},h.prototype.onRead=function(t,e,r,i,n){var o=this._characteristics[t][e][r];o?(o.emit("data",i,n),o.emit("read",i,n)):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" read!")},h.prototype.write=function(t,e,r,i,n){this._bindings.write(t,e,r,i,n)},h.prototype.onWrite=function(t,e,r){var i=this._characteristics[t][e][r];i?i.emit("write"):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" write!")},h.prototype.broadcast=function(t,e,r,i){this._bindings.broadcast(t,e,r,i)},h.prototype.onBroadcast=function(t,e,r,i){var n=this._characteristics[t][e][r];n?n.emit("broadcast",i):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" broadcast!")},h.prototype.notify=function(t,e,r,i){this._bindings.notify(t,e,r,i)},h.prototype.onNotify=function(t,e,r,i){var n=this._characteristics[t][e][r];n?n.emit("notify",i):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" notify!")},h.prototype.discoverDescriptors=function(t,e,r){this._bindings.discoverDescriptors(t,e,r)},h.prototype.onDescriptorsDiscover=function(t,e,r,i){var n=this._characteristics[t][e][r];if(n){for(var o=[],a=0;a<i.length;a++){var s=i[a],c=new u(this,t,e,r,s);this._descriptors[t][e][r][s]=c,o.push(c)}n.descriptors=o,n.emit("descriptorsDiscover",o)}else this.emit("warning","unknown peripheral "+t+", "+e+", "+r+" descriptors discover!")},h.prototype.readValue=function(t,e,r,i){this._bindings.readValue(t,e,r,i)},h.prototype.onValueRead=function(t,e,r,i,n){var o=this._descriptors[t][e][r][i];o?o.emit("valueRead",n):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+", "+i+" value read!")},h.prototype.writeValue=function(t,e,r,i,n){this._bindings.writeValue(t,e,r,i,n)},h.prototype.onValueWrite=function(t,e,r,i){var n=this._descriptors[t][e][r][i];n?n.emit("valueWrite"):this.emit("warning","unknown peripheral "+t+", "+e+", "+r+", "+i+" value write!")},h.prototype.readHandle=function(t,e){this._bindings.readHandle(t,e)},h.prototype.onHandleRead=function(t,e,r){var i=this._peripherals[t];i?i.emit("handleRead"+e,r):this.emit("warning","unknown peripheral "+t+" handle read!")},h.prototype.writeHandle=function(t,e,r,i){this._bindings.writeHandle(t,e,r,i)},h.prototype.onHandleWrite=function(t,e){var r=this._peripherals[t];r?r.emit("handleWrite"+e):this.emit("warning","unknown peripheral "+t+" handle write!")},h.prototype.onHandleNotify=function(t,e,r){var i=this._peripherals[t];i?i.emit("handleNotify",e,r):this.emit("warning","unknown peripheral "+t+" handle notify!")},t.exports=h}).call(this,r(4))},function(t,e,r){(e=t.exports=function(t){function r(){}function o(){var t=o,r=+new Date,a=r-(i||r);t.diff=a,t.prev=i,t.curr=r,i=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=e.colors[n++%e.colors.length]);var s=Array.prototype.slice.call(arguments);s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(r,i){if("%%"===r)return r;c++;var n=e.formatters[i];if("function"==typeof n){var o=s[c];r=n.call(t,o),s.splice(c,1),c--}return r}),"function"==typeof e.formatArgs&&(s=e.formatArgs.apply(t,s));var u=o.log||e.log||console.log.bind(console);u.apply(t,s)}r.enabled=!1,o.enabled=!0;var a=e.enabled(t)?o:r;return a.namespace=t,a}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),i=r.length,n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var r,i;for(r=0,i=e.skips.length;r<i;r++)if(e.skips[r].test(t))return!1;for(r=0,i=e.names.length;r<i;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(36),e.names=[],e.skips=[],e.formatters={};var i,n=0},function(t,e){var r=1e3,i=60*r,n=60*i,o=24*n,a=365.25*o;function s(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,e){return e=e||{},"string"==typeof t?function(t){if((t=""+t).length>1e4)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}(t):e.long?s(c=t,o,"day")||s(c,n,"hour")||s(c,i,"minute")||s(c,r,"second")||c+" ms":function(t){return t>=o?Math.round(t/o)+"d":t>=n?Math.round(t/n)+"h":t>=i?Math.round(t/i)+"m":t>=r?Math.round(t/r)+"s":t+"ms"}(t);var c}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){(function(e){r(2)("peripheral");var i=r(1);function n(t,e,r,i,n,o,a){this._noble=t,this.id=e,this.uuid=e,this.address=r,this.addressType=i,this.connectable=n,this.advertisement=o,this.rssi=a,this.services=null,this.state="disconnected"}r(3).inherits(n,i.EventEmitter),n.prototype.toString=function(){return JSON.stringify({id:this.id,address:this.address,addressType:this.addressType,connectable:this.connectable,advertisement:this.advertisement,rssi:this.rssi,state:this.state})},n.prototype.connect=function(t){t&&this.once("connect",function(e){t(e)}),"connected"===this.state?this.emit("connect",new Error("Peripheral already connected")):(this.state="connecting",this._noble.connect(this.id))},n.prototype.disconnect=function(t){t&&this.once("disconnect",function(){t(null)}),this.state="disconnecting",this._noble.disconnect(this.id)},n.prototype.updateRssi=function(t){t&&this.once("rssiUpdate",function(e){t(null,e)}),this._noble.updateRssi(this.id)},n.prototype.discoverServices=function(t,e){e&&this.once("servicesDiscover",function(t){e(null,t)}),this._noble.discoverServices(this.id,t)},n.prototype.discoverSomeServicesAndCharacteristics=function(t,e,r){this.discoverServices(t,function(t,i){var n=0,o=[];for(var a in i){i[a].discoverCharacteristics(e,function(t,e){if(n++,null===t)for(var a in e){var s=e[a];o.push(s)}n===i.length&&r&&r(null,i,o)}.bind(this))}}.bind(this))},n.prototype.discoverAllServicesAndCharacteristics=function(t){this.discoverSomeServicesAndCharacteristics([],[],t)},n.prototype.readHandle=function(t,e){e&&this.once("handleRead"+t,function(t){e(null,t)}),this._noble.readHandle(this.id,t)},n.prototype.writeHandle=function(t,r,i,n){if(!(r instanceof e))throw new Error("data must be a Buffer");n&&this.once("handleWrite"+t,function(){n(null)}),this._noble.writeHandle(this.id,t,r,i)},t.exports=n}).call(this,r(0).Buffer)},function(t,e,r){r(2)("service");var i=r(1),n=r(3),o=r(41);function a(t,e,r){this._noble=t,this._peripheralId=e,this.uuid=r,this.name=null,this.type=null,this.includedServiceUuids=null,this.characteristics=null;var i=o[r];i&&(this.name=i.name,this.type=i.type)}n.inherits(a,i.EventEmitter),a.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type,includedServiceUuids:this.includedServiceUuids})},a.prototype.discoverIncludedServices=function(t,e){e&&this.once("includedServicesDiscover",function(t){e(null,t)}),this._noble.discoverIncludedServices(this._peripheralId,this.uuid,t)},a.prototype.discoverCharacteristics=function(t,e){e&&this.once("characteristicsDiscover",function(t){e(null,t)}),this._noble.discoverCharacteristics(this._peripheralId,this.uuid,t)},t.exports=a},function(t){t.exports={1800:{name:"Generic Access",type:"org.bluetooth.service.generic_access"},1801:{name:"Generic Attribute",type:"org.bluetooth.service.generic_attribute"},1802:{name:"Immediate Alert",type:"org.bluetooth.service.immediate_alert"},1803:{name:"Link Loss",type:"org.bluetooth.service.link_loss"},1804:{name:"Tx Power",type:"org.bluetooth.service.tx_power"},1805:{name:"Current Time Service",type:"org.bluetooth.service.current_time"},1806:{name:"Reference Time Update Service",type:"org.bluetooth.service.reference_time_update"},1807:{name:"Next DST Change Service",type:"org.bluetooth.service.next_dst_change"},1808:{name:"Glucose",type:"org.bluetooth.service.glucose"},1809:{name:"Health Thermometer",type:"org.bluetooth.service.health_thermometer"},1810:{name:"Blood Pressure",type:"org.bluetooth.service.blood_pressuer"},1811:{name:"Alert Notification Service",type:"org.bluetooth.service.alert_notification"},1812:{name:"Human Interface Device",type:"org.bluetooth.service.human_interface_device"},1813:{name:"Scan Parameters",type:"org.bluetooth.service.scan_parameters"},1814:{name:"Running Speed and Cadence",type:"org.bluetooth.service.running_speed_and_cadence"},1815:{name:"Automation IO",type:"org.bluetooth.service.automation_io"},1816:{name:"Cycling Speed and Cadence",type:"org.bluetooth.service.cycling_speed_and_cadence"},1818:{name:"Cycling Power",type:"org.bluetooth.service.cycling_power"},1819:{name:"Location and Navigation",type:"org.bluetooth.service.location_and_navigation"},1820:{name:"Internet Protocol Support",type:"org.bluetooth.service.internet_protocol_support"},"180a":{name:"Device Information",type:"org.bluetooth.service.device_information"},"180d":{name:"Heart Rate",type:"org.bluetooth.service.heart_rate"},"180e":{name:"Phone Alert Status Service",type:"org.bluetooth.service.phone_alert_service"},"180f":{name:"Battery Service",type:"org.bluetooth.service.battery_service"},"181a":{name:"Environmental Sensing",type:"org.bluetooth.service.environmental_sensing"},"181b":{name:"Body Composition",type:"org.bluetooth.service.body_composition"},"181c":{name:"User Data",type:"org.bluetooth.service.user_data"},"181d":{name:"Weight Scale",type:"org.bluetooth.service.weight_scale"},"181e":{name:"Bond Management",type:"org.bluetooth.service.bond_management"},"181f":{name:"Continuous Glucose Monitoring",type:"org.bluetooth.service.continuous_glucose_monitoring"}}},function(t,e,r){(function(e,i){r(2)("characteristic");var n=r(1),o=r(3),a=r(43);function s(t,e,r,i,n){this._noble=t,this._peripheralId=e,this._serviceUuid=r,this.uuid=i,this.name=null,this.type=null,this.properties=n,this.descriptors=null;var o=a[i];o&&(this.name=o.name,this.type=o.type)}o.inherits(s,n.EventEmitter),s.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type,properties:this.properties})},s.prototype.read=function(t){if(t){var e=function(r,i){i||(this.removeListener("read",e),t(null,r))}.bind(this);this.on("read",e)}this._noble.read(this._peripheralId,this._serviceUuid,this.uuid)},s.prototype.write=function(t,r,n){if("browser"!==e.title&&!(t instanceof i))throw new Error("data must be a Buffer");n&&this.once("write",function(){n(null)}),this._noble.write(this._peripheralId,this._serviceUuid,this.uuid,t,r)},s.prototype.broadcast=function(t,e){e&&this.once("broadcast",function(){e(null)}),this._noble.broadcast(this._peripheralId,this._serviceUuid,this.uuid,t)},s.prototype.notify=function(t,e){e&&this.once("notify",function(){e(null)}),this._noble.notify(this._peripheralId,this._serviceUuid,this.uuid,t)},s.prototype.subscribe=function(t){this.notify(!0,t)},s.prototype.unsubscribe=function(t){this.notify(!1,t)},s.prototype.discoverDescriptors=function(t){t&&this.once("descriptorsDiscover",function(e){t(null,e)}),this._noble.discoverDescriptors(this._peripheralId,this._serviceUuid,this.uuid)},t.exports=s}).call(this,r(4),r(0).Buffer)},function(t){t.exports={"2a00":{name:"Device Name",type:"org.bluetooth.characteristic.gap.device_name"},"2a01":{name:"Appearance",type:"org.bluetooth.characteristic.gap.appearance"},"2a02":{name:"Peripheral Privacy Flag",type:"org.bluetooth.characteristic.gap.peripheral_privacy_flag"},"2a03":{name:"Reconnection Address",type:"org.bluetooth.characteristic.gap.reconnection_address"},"2a04":{name:"Peripheral Preferred Connection Parameters",type:"org.bluetooth.characteristic.gap.peripheral_preferred_connection_parameters"},"2a05":{name:"Service Changed",type:"org.bluetooth.characteristic.gatt.service_changed"},"2a06":{name:"Alert Level",type:"org.bluetooth.characteristic.alert_level"},"2a07":{name:"Tx Power Level",type:"org.bluetooth.characteristic.tx_power_level"},"2a08":{name:"Date Time",type:"org.bluetooth.characteristic.date_time"},"2a09":{name:"Day of Week",type:"org.bluetooth.characteristic.day_of_week"},"2a0a":{name:"Day Date Time",type:"org.bluetooth.characteristic.day_date_time"},"2a0c":{name:"Exact Time 256",type:"org.bluetooth.characteristic.exact_time_256"},"2a0d":{name:"DST Offset",type:"org.bluetooth.characteristic.dst_offset"},"2a0e":{name:"Time Zone",type:"org.bluetooth.characteristic.time_zone"},"2a0f":{name:"Local Time Information",type:"org.bluetooth.characteristic.local_time_information"},"2a11":{name:"Time with DST",type:"org.bluetooth.characteristic.time_with_dst"},"2a12":{name:"Time Accuracy",type:"org.bluetooth.characteristic.time_accuracy"},"2a13":{name:"Time Source",type:"org.bluetooth.characteristic.time_source"},"2a14":{name:"Reference Time Information",type:"org.bluetooth.characteristic.reference_time_information"},"2a16":{name:"Time Update Control Point",type:"org.bluetooth.characteristic.time_update_control_point"},"2a17":{name:"Time Update State",type:"org.bluetooth.characteristic.time_update_state"},"2a18":{name:"Glucose Measurement",type:"org.bluetooth.characteristic.glucose_measurement"},"2a19":{name:"Battery Level",type:"org.bluetooth.characteristic.battery_level"},"2a1c":{name:"Temperature Measurement",type:"org.bluetooth.characteristic.temperature_measurement"},"2a1d":{name:"Temperature Type",type:"org.bluetooth.characteristic.temperature_type"},"2a1e":{name:"Intermediate Temperature",type:"org.bluetooth.characteristic.intermediate_temperature"},"2a21":{name:"Measurement Interval",type:"org.bluetooth.characteristic.measurement_interval"},"2a22":{name:"Boot Keyboard Input Report",type:"org.bluetooth.characteristic.boot_keyboard_input_report"},"2a23":{name:"System ID",type:"org.bluetooth.characteristic.system_id"},"2a24":{name:"Model Number String",type:"org.bluetooth.characteristic.model_number_string"},"2a25":{name:"Serial Number String",type:"org.bluetooth.characteristic.serial_number_string"},"2a26":{name:"Firmware Revision String",type:"org.bluetooth.characteristic.firmware_revision_string"},"2a27":{name:"Hardware Revision String",type:"org.bluetooth.characteristic.hardware_revision_string"},"2a28":{name:"Software Revision String",type:"org.bluetooth.characteristic.software_revision_string"},"2a29":{name:"Manufacturer Name String",type:"org.bluetooth.characteristic.manufacturer_name_string"},"2a2a":{name:"IEEE 11073-20601 Regulatory Certification Data List",type:"org.bluetooth.characteristic.ieee_11073-20601_regulatory_certification_data_list"},"2a2b":{name:"Current Time",type:"org.bluetooth.characteristic.current_time"},"2a2c":{name:"Magnetic Declination",type:"org.bluetooth.characteristic.magnetic_declination"},"2a31":{name:"Scan Refresh",type:"org.bluetooth.characteristic.scan_refresh"},"2a32":{name:"Boot Keyboard Output Report",type:"org.bluetooth.characteristic.boot_keyboard_output_report"},"2a33":{name:"Boot Mouse Input Report",type:"org.bluetooth.characteristic.boot_mouse_input_report"},"2a34":{name:"Glucose Measurement Context",type:"org.bluetooth.characteristic.glucose_measurement_context"},"2a35":{name:"Blood Pressure Measurement",type:"org.bluetooth.characteristic.blood_pressure_measurement"},"2a36":{name:"Intermediate Cuff Pressure",type:"org.bluetooth.characteristic.intermediate_blood_pressure"},"2a37":{name:"Heart Rate Measurement",type:"org.bluetooth.characteristic.heart_rate_measurement"},"2a38":{name:"Body Sensor Location",type:"org.bluetooth.characteristic.body_sensor_location"},"2a39":{name:"Heart Rate Control Point",type:"org.bluetooth.characteristic.heart_rate_control_point"},"2a3f":{name:"Alert Status",type:"org.bluetooth.characteristic.alert_status"},"2a40":{name:"Ringer Control Point",type:"org.bluetooth.characteristic.ringer_control_point"},"2a41":{name:"Ringer Setting",type:"org.bluetooth.characteristic.ringer_setting"},"2a42":{name:"Alert Category ID Bit Mask",type:"org.bluetooth.characteristic.alert_category_id_bit_mask"},"2a43":{name:"Alert Category ID",type:"org.bluetooth.characteristic.alert_category_id"},"2a44":{name:"Alert Notification Control Point",type:"org.bluetooth.characteristic.alert_notification_control_point"},"2a45":{name:"Unread Alert Status",type:"org.bluetooth.characteristic.unread_alert_status"},"2a46":{name:"New Alert",type:"org.bluetooth.characteristic.new_alert"},"2a47":{name:"Supported New Alert Category",type:"org.bluetooth.characteristic.supported_new_alert_category"},"2a48":{name:"Supported Unread Alert Category",type:"org.bluetooth.characteristic.supported_unread_alert_category"},"2a49":{name:"Blood Pressure Feature",type:"org.bluetooth.characteristic.blood_pressure_feature"},"2a4a":{name:"HID Information",type:"org.bluetooth.characteristic.hid_information"},"2a4b":{name:"Report Map",type:"org.bluetooth.characteristic.report_map"},"2a4c":{name:"HID Control Point",type:"org.bluetooth.characteristic.hid_control_point"},"2a4d":{name:"Report",type:"org.bluetooth.characteristic.report"},"2a4e":{name:"Protocol Mode",type:"org.bluetooth.characteristic.protocol_mode"},"2a4f":{name:"Scan Interval Window",type:"org.bluetooth.characteristic.scan_interval_window"},"2a50":{name:"PnP ID",type:"org.bluetooth.characteristic.pnp_id"},"2a51":{name:"Glucose Feature",type:"org.bluetooth.characteristic.glucose_feature"},"2a52":{name:"Record Access Control Point",type:"org.bluetooth.characteristic.record_access_control_point"},"2a53":{name:"RSC Measurement",type:"org.bluetooth.characteristic.rsc_measurement"},"2a54":{name:"RSC Feature",type:"org.bluetooth.characteristic.rsc_feature"},"2a55":{name:"SC Control Point",type:"org.bluetooth.characteristic.sc_control_point"},"2a56":{name:"Digital",type:"org.bluetooth.characteristic.digital"},"2a58":{name:"Analog",type:"org.bluetooth.characteristic.analog"},"2a5a":{name:"Aggregate",type:"org.bluetooth.characteristic.aggregate"},"2a5b":{name:"CSC Measurement",type:"org.bluetooth.characteristic.csc_measurement"},"2a5c":{name:"CSC Feature",type:"org.bluetooth.characteristic.csc_feature"},"2a5d":{name:"Sensor Location",type:"org.bluetooth.characteristic.sensor_location"},"2a63":{name:"Cycling Power Measurement",type:"org.bluetooth.characteristic.cycling_power_measurement"},"2a64":{name:"Cycling Power Vector",type:"org.bluetooth.characteristic.cycling_power_vector"},"2a65":{name:"Cycling Power Feature",type:"org.bluetooth.characteristic.cycling_power_feature"},"2a66":{name:"Cycling Power Control Point",type:"org.bluetooth.characteristic.cycling_power_control_point"},"2a67":{name:"Location and Speed",type:"org.bluetooth.characteristic.location_and_speed"},"2a68":{name:"Navigation",type:"org.bluetooth.characteristic.navigation"},"2a69":{name:"Position Quality",type:"org.bluetooth.characteristic.position_quality"},"2a6a":{name:"LN Feature",type:"org.bluetooth.characteristic.ln_feature"},"2a6b":{name:"LN Control Point",type:"org.bluetooth.characteristic.ln_control_point"},"2a6c":{name:"Elevation",type:"org.bluetooth.characteristic.elevation"},"2a6d":{name:"Pressure",type:"org.bluetooth.characteristic.pressure"},"2a6e":{name:"Temperature",type:"org.bluetooth.characteristic.temperature"},"2a6f":{name:"Humidity",type:"org.bluetooth.characteristic.humidity"},"2a70":{name:"True Wind Speed",type:"org.bluetooth.characteristic.true_wind_speed"},"2a71":{name:"True Wind Direction",type:"org.bluetooth.characteristic.true_wind_direction"},"2a72":{name:"Apparent Wind Speed",type:"org.bluetooth.characteristic.apparent_wind_speed"},"2a73":{name:"Apparent Wind Direction",type:"org.bluetooth.characteristic.apparent_wind_direction"},"2a74":{name:"Gust Factor",type:"org.bluetooth.characteristic.gust_factor"},"2a75":{name:"Pollen Concentration",type:"org.bluetooth.characteristic.pollen_concentration"},"2a76":{name:"UV Index",type:"org.bluetooth.characteristic.uv_index"},"2a77":{name:"Irradiance",type:"org.bluetooth.characteristic.irradiance"},"2a78":{name:"Rainfall",type:"org.bluetooth.characteristic.rainfall"},"2a79":{name:"Wind Chill",type:"org.bluetooth.characteristic.wind_chill"},"2a7a":{name:"Heat Index",type:"org.bluetooth.characteristic.heat_index"},"2a7b":{name:"Dew Point",type:"org.bluetooth.characteristic.dew_point"},"2a7d":{name:"Descriptor Value Changed",type:"org.bluetooth.characteristic.descriptor_value_change"},"2a7e":{name:"Aerobic Heart Rate Lower Limit",type:"org.bluetooth.characteristic.aerobic_heart_rate_lower_limit"},"2a7f":{name:"Aerobic Threshold",type:"org.bluetooth.characteristic.aerobic_threshold"},"2a80":{name:"Age",type:"org.bluetooth.characteristic.age"},"2a81":{name:"Anaerobic Heart Rate Lower Limit",type:"org.bluetooth.characteristic.anaerobic_heart_rate_lower_limit"},"2a82":{name:"Anaerobic Heart Rate Upper Limit",type:"org.bluetooth.characteristic.anaerobic_heart_rate_upper_limit"},"2a83":{name:"Anaerobic Threshold",type:"org.bluetooth.characteristic.anaerobic_threshold"},"2a84":{name:"Aerobic Heart Rate Upper Limit",type:"org.bluetooth.characteristic.aerobic_heart_rate_upper_limit"},"2a85":{name:"Date of Birth",type:"org.bluetooth.characteristic.date_of_birth"},"2a86":{name:"Date of Threshold Assessment",type:"org.bluetooth.characteristic.date_of_threshold_assessment"},"2a87":{name:"Email Address",type:"org.bluetooth.characteristic.email_address"},"2a88":{name:"Fat Burn Heart Rate Lower Limit",type:"org.bluetooth.characteristic.fat_burn_heart_lower_limit"},"2a89":{name:"Fat Burn Heart Rate Upper Limit",type:"org.bluetooth.characteristic.fat_burn_heart_upper_limit"},"2a8a":{name:"First Name",type:"org.bluetooth.characteristic.first_name"},"2a8b":{name:"Five Zone Heart Rate Limits",type:"org.bluetooth.characteristic.five_zone_heart_rate_limits"},"2a8c":{name:"Gender",type:"org.bluetooth.characteristic.gender"},"2a8d":{name:"Heart Rate Max",type:"org.bluetooth.characteristic.heart_rate_max"},"2a8e":{name:"Height",type:"org.bluetooth.characteristic.height"},"2a8f":{name:"Hip Circumference",type:"org.bluetooth.characteristic.hip_circumference"},"2a90":{name:"Last Name",type:"org.bluetooth.characteristic.last_name"},"2a91":{name:"Maximum Recommended Heart Rate",type:"org.bluetooth.characteristic.maximum_recommended_heart_rate"},"2a92":{name:"Resting Heart Rate",type:"org.bluetooth.characteristic.resting_heart_rate"},"2a93":{name:"Sport Type for Aerobic and Anaerobic Threshold",type:"org.bluetooth.characteristic.sport_type_for_aerobic_and_anaerobic_threshold"},"2a94":{name:"Three Zone Heart Rate Limits",type:"org.bluetooth.characteristic.three_zone_heart_rate_limits"},"2a95":{name:"Two Zone Heart Rate Limit",type:"org.bluetooth.characteristic.two_zone_heart_rate_limit"},"2a96":{name:"VO2 Max",type:"org.bluetooth.characteristic.vo2_max"},"2a97":{name:"Waist Circumference",type:"org.bluetooth.characteristic.waist_circumference"},"2a98":{name:"Weight",type:"org.bluetooth.characteristic.weight"},"2a99":{name:"Database Change Increment",type:"org.bluetooth.characteristic.database_change_increment"},"2a9a":{name:"User Index",type:"org.bluetooth.characteristic.user_index"},"2a9b":{name:"Body Composition Feature",type:"org.bluetooth.characteristic.body_composition_feature"},"2a9c":{name:"Body Composition Measurement",type:"org.bluetooth.characteristic.body_composition_measurement"},"2a9d":{name:"Weight Measurement",type:"org.bluetooth.characteristic.weight_measurement"},"2a9e":{name:"Weight Scale Feature",type:"org.bluetooth.characteristic.weight_scale_feature"},"2a9f":{name:"User Control Point",type:"org.bluetooth.characteristic.user_control_point"},"2aa0":{name:"Magnetic Flux Density - 2D",type:"org.bluetooth.characteristic.magnetic_flux_density_2d"},"2aa1":{name:"Magnetic Flux Density - 3D",type:"org.bluetooth.characteristic.magnetic_flux_density_3d"},"2aa2":{name:"Language",type:"org.bluetooth.characteristic.language"},"2aa3":{name:"Barometric Pressure Trend",type:"org.bluetooth.characteristic.barometric_pressure_trend"},"2aa4":{name:"Bond Management Control Point",type:"org.bluetooth.characteristic.bond_management_control_point"},"2aa5":{name:"Bond Management Feature",type:"org.bluetooth.characteristic.bond_management_feature"},"2aa6":{name:"Central Address Resolution",type:"org.bluetooth.characteristic.central_address_resolution"},"2aa7":{name:"CGM Measurement",type:"org.bluetooth.characteristic.cgm_measurement"},"2aa8":{name:"CGM Feature",type:"org.bluetooth.characteristic.cgm_feature"},"2aa9":{name:"CGM Status",type:"org.bluetooth.characteristic.cgm_status"},"2aaa":{name:"CGM Session Start Time",type:"org.bluetooth.characteristic.cgm_session_start_time"},"2aab":{name:"CGM Session Run Time",type:"org.bluetooth.characteristic.cgm_session_run_time"},"2aac":{name:"CGM Specific Ops Control Point",type:"org.bluetooth.characteristic.cgm_specific_ops_control_point"}}},function(t,e,r){(function(e){r(2)("descriptor");var i=r(1),n=r(3),o=r(45);function a(t,e,r,i,n){this._noble=t,this._peripheralId=e,this._serviceUuid=r,this._characteristicUuid=i,this.uuid=n,this.name=null,this.type=null;var a=o[n];a&&(this.name=a.name,this.type=a.type)}n.inherits(a,i.EventEmitter),a.prototype.toString=function(){return JSON.stringify({uuid:this.uuid,name:this.name,type:this.type})},a.prototype.readValue=function(t){t&&this.once("valueRead",function(e){t(null,e)}),this._noble.readValue(this._peripheralId,this._serviceUuid,this._characteristicUuid,this.uuid)},a.prototype.writeValue=function(t,r){if(!(t instanceof e))throw new Error("data must be a Buffer");r&&this.once("valueWrite",function(){r(null)}),this._noble.writeValue(this._peripheralId,this._serviceUuid,this._characteristicUuid,this.uuid,t)},t.exports=a}).call(this,r(0).Buffer)},function(t){t.exports={2900:{name:"Characteristic Extended Properties",type:"org.bluetooth.descriptor.gatt.characteristic_extended_properties"},2901:{name:"Characteristic User Description",type:"org.bluetooth.descriptor.gatt.characteristic_user_description"},2902:{name:"Client Characteristic Configuration",type:"org.bluetooth.descriptor.gatt.client_characteristic_configuration"},2903:{name:"Server Characteristic Configuration",type:"org.bluetooth.descriptor.gatt.server_characteristic_configuration"},2904:{name:"Characteristic Presentation Format",type:"org.bluetooth.descriptor.gatt.characteristic_presentation_format"},2905:{name:"Characteristic Aggregate Format",type:"org.bluetooth.descriptor.gatt.characteristic_aggregate_format"},2906:{name:"Valid Range",type:"org.bluetooth.descriptor.valid_range"},2907:{name:"External Report Reference",type:"org.bluetooth.descriptor.external_report_reference"},2908:{name:"Report Reference",type:"org.bluetooth.descriptor.report_reference"},2909:{name:"Number of Digitals",type:"org.bluetooth.descriptor.number_of_digitals"},"290a":{name:"Value Trigger Setting",type:"org.bluetooth.descriptor.value_trigger_setting"},"290b":{name:"Environmental Sensing Configuration",type:"org.bluetooth.descriptor.environmental_sensing_configuration"},"290c":{name:"Environmental Sensing Measurement",type:"org.bluetooth.descriptor.environmental_sensing_measurement"},"290d":{name:"Environmental Sensing Trigger Setting",type:"org.bluetooth.descriptor.environmental_sensing_trigger_setting"},"290e":{name:"Time Trigger Setting",type:"org.bluetooth.descriptor.time_trigger_setting"}}},function(t,e,r){(function(e){t.exports=function(){return navigator.bluetooth&&!e.env.NOBLE_WEBSOCKET?r(47):r(48)}}).call(this,r(4))},function(t,e,r){(function(e,i){var n=r(3),o=r(1),a=r(2)("webble-bindings");function s(t){return{services:[t]}}function c(t){return t&&"string"==typeof t?(t&&32===t.length&&(t=t.substring(0,8)+"-"+t.substring(8,12)+"-"+t.substring(12,16)+"-"+t.substring(16,20)+"-"+t.substring(20)),t.toLowerCase()):t}var u=function(){this._ble=null,this._startScanCommand=null,this._peripherals={}};n.inherits(u,o.EventEmitter),u.prototype.init=function(t){this._ble=t||navigator.bluetooth;var r=this;e.nextTick(function(){if(a("initing"),!r._ble)return r.emit("error",new Error("This browser does not support WebBluetooth."));a("emit powered on"),r.emit("stateChange","poweredOn")})},u.prototype.onOpen=function(){a("on -> open")},u.prototype.onClose=function(){a("on -> close"),this.emit("stateChange","poweredOff")},u.prototype.startScanning=function(t,e){var r=this;Array.isArray(t)&&(t={services:t}),"object"!=typeof t&&(t={services:t}),Array.isArray(t.services)||(t.services=[t.services]),t.services=t.services.map(function(t){return"string"==typeof t&&4===t.length?t=parseInt("0x"+t):"string"==typeof t&&6===t.length&&0===t.indexOf("0x")&&(t=parseInt(t)),t});var i=t.services.map(c).map(s);t.name&&i.push({name:t.name}),t.namePrefix&&i.push({namePrefix:t.namePrefix});var n={filters:i};a("startScanning",n,e),this._ble.requestDevice(n).then(function(e){if(a("scan finished",e),r.emit("scanStop",{}),e){var i=e.id;r._peripherals[i]={uuid:i,address:i,advertisement:{localName:e.name},device:e,cachedServices:{},localName:e.name,serviceUuids:t.services},e.adData&&(r._peripherals[i].rssi=e.adData.rssi),r.emit("discover",e.id,e.id,e.addressType,!e.paired,r._peripherals[i].advertisement,r._peripherals[i].rssi)}}).catch(function(t){a("err scanning",t),r.emit("scanStop",{}),r.emit("error",t)}),this.emit("scanStart")},u.prototype.stopScanning=function(){this._startScanCommand=null,this.emit("scanStop")},u.prototype.connect=function(t){var e=this;a("connect",t);var r=this._peripherals[t];r.cachedServices={},r.device.gatt.connect().then(function(i){a("peripheral connected",i);r.device.addEventListener("gattserverdisconnected",function(t){a("disconnected",r.uuid),e.emit("disconnect",r.uuid)},{once:!0}),e.emit("connect",t)},function(r){a("err connecting",r),e.emit("connect",t,r)})},u.prototype.disconnect=function(t){var e=this._peripherals[t];e.device.gatt&&(e.device.gatt.disconnect(),this.emit("disconnect",t))},u.prototype.updateRssi=function(t){this._peripherals[t]},u.prototype.discoverServices=function(t,e){var r=this._peripherals[t];r&&this.emit("servicesDiscover",t,r.serviceUuids)},u.prototype.discoverIncludedServices=function(t,e,r){this._peripherals[t]},u.prototype.discoverCharacteristics=function(t,e,r){var i=this,n=i._peripherals[t];n&&i.getPrimaryService(n,e).then(function(t){return t.getCharacteristics()}).then(function(r){var n=r.map(function(t){var e,r={uuid:(e=t.uuid,"string"==typeof e&&(e=e.split("-").join("")),e),properties:[]};return t.properties.writeWithoutResponse&&r.properties.push("writeWithoutResponse"),t.properties.write&&r.properties.push("write"),t.properties.read&&r.properties.push("read"),t.properties.notify&&r.properties.push("notify"),r});a("discoverCharacteristics",t,e,n),i.emit("characteristicsDiscover",t,e,n)})},u.prototype.getPrimaryService=function(t,e){return e=c(e),t.cachedServices[e]?new Promise(function(r,i){r(t.cachedServices[e])}):t.device.gatt.getPrimaryService(e).then(function(r){return t.cachedServices[e]=r,r})},u.prototype.read=function(t,e,r){var n=this,o=this._peripherals[t];a("read",t,e,r),n.getPrimaryService(o,e).then(function(t){return t.getCharacteristic(c(r))}).then(function(t){return t.readValue()}).then(function(t){n.emit("read",o.uuid,e,r,new i(t.buffer),!1)}).catch(function(t){a("error reading characteristic",t),n.emit("error",t)})},u.prototype.write=function(t,e,r,i,n){var o=this,s=this._peripherals[t];a("write",t,e,r,i,n),o.getPrimaryService(s,e).then(function(t){return t.getCharacteristic(c(r))}).then(function(t){return t.writeValue(i)}).then(function(){a("value written"),o.emit("write",s.uuid,e,r)}).catch(function(t){a("error writing to characteristic",e,r,t)})},u.prototype.broadcast=function(t,e,r,i){this._peripherals[t]},u.prototype.notify=function(t,e,r,n){var o=this,s=this._peripherals[t],u=o.getPrimaryService(s,e).then(function(t){return t.getCharacteristic(c(r))});s.notifcationListeners=s.notifcationListeners||{},n?u.then(function(t){return t.startNotifications()}).then(function(n){a("notifications started",r),s.notifcationListeners[e+"__"+r]=function(n){a("oncharacteristicvaluechanged",n,new i(n.target.value.buffer)),o.emit("read",t,e,r,new i(n.target.value.buffer),!0)},n.addEventListener("characteristicvaluechanged",s.notifcationListeners[e+"__"+r]);return s.device.addEventListener("gattserverdisconnected",function(){n.removeEventListener("characteristicvaluechanged",s.notifcationListeners[e+"__"+r]),delete s.notifcationListeners[e+"__"+r]},{once:!0}),console.log("hoge:startNotifications ok",t,e,r),o.emit("notify",t,e,r,!0),n}).catch(function(i){console.error("hoge:startNotifications failed",t,e,r),a("error enabling notifications on characteristic",i),o.emit("error",i)}):u.then(function(t){return t.stopNotifications()}).then(function(i){return a("notifications stopped",i),s.notifcationListeners[e+"__"+r]&&(i.removeEventListener("characteristicvaluechanged",s.notifcationListeners[e+"__"+r]),delete s.notifcationListeners[e+"__"+r]),o.emit("notify",t,e,r,!1),i}).catch(function(t){a("error disabling notifications on characteristic",t),o.emit("error",t)})},u.prototype.discoverDescriptors=function(t,e,r){this._peripherals[t]},u.prototype.readValue=function(t,e,r,i){this._peripherals[t]},u.prototype.writeValue=function(t,e,r,i,n){this._peripherals[t]},u.prototype.readHandle=function(t,e){this._peripherals[t]},u.prototype.writeHandle=function(t,e,r,i){this._peripherals[t]};var h=new u;t.exports=h}).call(this,r(4),r(0).Buffer)},function(t,e,r){(function(e,i){var n=r(1),o=r(3),a=(r(2)("bindings"),r(!function(){var t=new Error("Cannot find module 'ws'");throw t.code="MODULE_NOT_FOUND",t}())),s=function(){this._ws=new a("ws://localhost:2846"),this._startScanCommand=null,this._peripherals={},this.on("message",this._onMessage.bind(this)),this._ws.on||(this._ws.on=this._ws.addEventListener),this._ws.on("open",this._onOpen.bind(this)),this._ws.on("close",this._onClose.bind(this)),this._ws.on("error",this._onClose.bind(this));var t=this;this._ws.on("message",function(r){var i="browser"===e.title?r.data:r;t.emit("message",JSON.parse(i))})};o.inherits(s,n.EventEmitter),s.prototype.init=function(){},s.prototype._onOpen=function(){console.log("on -> open")},s.prototype._onClose=function(){console.log("on -> close"),this.emit("stateChange","poweredOff")},s.prototype._onMessage=function(t){var e=t.type,r=t.peripheralUuid,n=t.address,o=t.addressType,a=t.connectable,s=t.advertisement,c=t.rssi,u=t.serviceUuids,h=t.serviceUuid,p=t.includedServiceUuids,l=t.characteristics,d=t.characteristicUuid,f=t.data?new i(t.data,"hex"):null,m=t.isNotification,g=t.state,y=t.descriptors,v=t.descriptorUuid,_=t.handle;"stateChange"===e?(console.log(g),this.emit("stateChange",g)):"discover"===e?(s={localName:s.localName,txPowerLevel:s.txPowerLevel,serviceUuids:s.serviceUuids,manufacturerData:s.manufacturerData?new i(s.manufacturerData,"hex"):null,serviceData:s.serviceData?new i(s.serviceData,"hex"):null},this._peripherals[r]={uuid:r,address:n,advertisement:s,rssi:c},this.emit("discover",r,n,o,a,s,c)):"connect"===e?this.emit("connect",r):"disconnect"===e?this.emit("disconnect",r):"rssiUpdate"===e?this.emit("rssiUpdate",r,c):"servicesDiscover"===e?this.emit("servicesDiscover",r,u):"includedServicesDiscover"===e?this.emit("includedServicesDiscover",r,h,p):"characteristicsDiscover"===e?this.emit("characteristicsDiscover",r,h,l):"read"===e?this.emit("read",r,h,d,f,m):"write"===e?this.emit("write",r,h,d):"broadcast"===e?this.emit("broadcast",r,h,d,g):"notify"===e?this.emit("notify",r,h,d,g):"descriptorsDiscover"===e?this.emit("descriptorsDiscover",r,h,d,y):"valueRead"===e?this.emit("valueRead",r,h,d,v,f):"valueWrite"===e?this.emit("valueWrite",r,h,d,v):"handleRead"===e?this.emit("handleRead",r,_,f):"handleWrite"===e?this.emit("handleWrite",r,_):"handleNotify"===e&&this.emit("handleNotify",r,_,f)},s.prototype._sendCommand=function(t,e){var r=JSON.stringify(t);this._ws.send(r,function(r){null!=r&&(console.warn("could not send command",t,r),"function"==typeof e&&e(r))})},s.prototype.startScanning=function(t,e){this._startScanCommand={action:"startScanning",serviceUuids:t,allowDuplicates:e},this._sendCommand(this._startScanCommand),this.emit("scanStart")},s.prototype.stopScanning=function(){this._startScanCommand=null,this._sendCommand({action:"stopScanning"}),this.emit("scanStop")},s.prototype.connect=function(t){var e=this._peripherals[t];this._sendCommand({action:"connect",peripheralUuid:e.uuid})},s.prototype.disconnect=function(t){var e=this._peripherals[t];this._sendCommand({action:"disconnect",peripheralUuid:e.uuid})},s.prototype.updateRssi=function(t){var e=this._peripherals[t];this._sendCommand({action:"updateRssi",peripheralUuid:e.uuid})},s.prototype.discoverServices=function(t,e){var r=this._peripherals[t];this._sendCommand({action:"discoverServices",peripheralUuid:r.uuid,uuids:e})},s.prototype.discoverIncludedServices=function(t,e,r){var i=this._peripherals[t];this._sendCommand({action:"discoverIncludedServices",peripheralUuid:i.uuid,serviceUuid:e,serviceUuids:r})},s.prototype.discoverCharacteristics=function(t,e,r){var i=this._peripherals[t];this._sendCommand({action:"discoverCharacteristics",peripheralUuid:i.uuid,serviceUuid:e,characteristicUuids:r})},s.prototype.read=function(t,e,r){var i=this._peripherals[t];this._sendCommand({action:"read",peripheralUuid:i.uuid,serviceUuid:e,characteristicUuid:r})},s.prototype.write=function(t,e,r,i,n){var o=this._peripherals[t];this._sendCommand({action:"write",peripheralUuid:o.uuid,serviceUuid:e,characteristicUuid:r,data:i.toString("hex"),withoutResponse:n})},s.prototype.broadcast=function(t,e,r,i){var n=this._peripherals[t];this._sendCommand({action:"broadcast",peripheralUuid:n.uuid,serviceUuid:e,characteristicUuid:r,broadcast:i})},s.prototype.notify=function(t,e,r,i){var n=this._peripherals[t];this._sendCommand({action:"notify",peripheralUuid:n.uuid,serviceUuid:e,characteristicUuid:r,notify:i})},s.prototype.discoverDescriptors=function(t,e,r){var i=this._peripherals[t];this._sendCommand({action:"discoverDescriptors",peripheralUuid:i.uuid,serviceUuid:e,characteristicUuid:r})},s.prototype.readValue=function(t,e,r,i){var n=this._peripherals[t];this._sendCommand({action:"readValue",peripheralUuid:n.uuid,serviceUuid:e,characteristicUuid:r,descriptorUuid:i})},s.prototype.writeValue=function(t,e,r,i,n){var o=this._peripherals[t];this._sendCommand({action:"writeValue",peripheralUuid:o.uuid,serviceUuid:e,characteristicUuid:r,descriptorUuid:i,data:n.toString("hex")})},s.prototype.readHandle=function(t,e){var r=this._peripherals[t];this._sendCommand({action:"readHandle",peripheralUuid:r.uuid,handle:e})},s.prototype.writeHandle=function(t,e,r,i){var n=this._peripherals[t];this._sendCommand({action:"writeHandle",peripheralUuid:n.uuid,handle:e,data:r.toString("hex"),withoutResponse:i})},t.exports=new s}).call(this,r(4),r(0).Buffer)},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=function(t){function e(e,r){void 0===e&&(e=1),void 0===r&&(r=a.Scanner.DEFAULT_TIMEOUT_MS);var i=t.call(this,r)||this;return i.peripherals=[],i.numberOfCoreCubes=1,i.scanningIntervalTimer=null,i.numberOfCoreCubes=e,i}return n(e,t),e.prototype.stop=function(){t.prototype.stop.call(this),null!==this.scanningIntervalTimer&&clearInterval(this.scanningIntervalTimer)},e.prototype.onDiscover=function(t){this.peripherals.push(t)},e.prototype.executor=function(t){var r=this;this.scanningIntervalTimer=setInterval(function(){r.peripherals.length<r.numberOfCoreCubes||t(r.peripherals.sort(function(t,e){return e.rssi-t.rssi}).slice(0,r.numberOfCoreCubes).map(function(t){return new o.Cube(t)}))},e.SCAN_WINDOW_MS)},e.SCAN_WINDOW_MS=1e3,e}(a.Scanner);e.NearScanner=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),a=r(6),s=function(t){function e(e,r,i){void 0===r&&(r=!0),void 0===i&&(i=a.Scanner.DEFAULT_TIMEOUT_MS);var n=t.call(this,i)||this;return n.targets=e.map(function(t){return t.toLowerCase()}),n.fuzzy=r,n}return n(e,t),e.prototype.onDiscover=function(t){(this.match(t.address)||this.match(t.id))&&this.eventEmitter.emit("discover",new o.Cube(t))},e.prototype.executor=function(){},e.prototype.match=function(t){return this.fuzzy?this.targets.some(function(e){return t.startsWith(e)}):this.targets.includes(t)},e}(a.Scanner);e.IdAddressScanner=s}]);
//# sourceMappingURL=main.js.map